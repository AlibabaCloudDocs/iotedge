# 分配流数据分析到边缘实例 {#concept_nvb_crg_qfb .task}

本文介绍创建流数据分析任务、发布任务和分配流数据分析任务到边缘实例的整个步骤。

## 前提条件 {#section_g3d_lr4_1xy .section}

请您确保已根据[环境搭建](cn.zh-CN/用户指南/环境搭建/专业版环境搭建/基于Ubuntu 16.04搭建环境.md#)内容创建完成边缘实例。

## 操作步骤 {#section_ilq_48g_lli .section}

1.  登录[物联网平台控制台](http://iot.console.aliyun.com)。
2.  参考[流数据分析](https://help.aliyun.com/document_detail/92583.html)，创建、设置并发布数据分析任务。 其中，**执行任务**需选择**边缘端**。

    **说明：** 图片以组件编排任务为例。

    ![边缘端执行任务](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/40709/156808084721255_zh-CN.jpg)

3.  单击左侧导航栏中**边缘计算** \> **边缘实例**。 找到要分配流数据分析任务的边缘实例，单击对应操作栏中的**查看**。
4.  在实例详情页面，选择**流数据分析**，然后单击**分配任务**或**分配流数据分析任务**。
5.  在弹出的分配任务页面中，选择要分配给边缘实例的任务，单击**分配**。 本例中，流数据分析任务名称为test\_local\_db。

    分配成功后，单击**完成**。

    ![分配任务至边缘实例](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/40709/156808084721202_zh-CN.png)

    完成规则添加后，便可在该边缘实例的实例详情页面上，查看流数据分析任务信息。

6.  部署边缘实例。为实例分配任务后，单击页面右上角**部署**，并在弹出对话框中，单击**确认**。 

    **说明：** 当任务在实时数据分析页面撤回时，会通知到边缘计算，并在边缘计算中**边缘实例** \> **实例详情** \> **流数据分析**页签下，该任务的状态会显示为**已撤回**。

    -   如果不重新部署边缘实例，将不会影响流数据任务继续处理设备数据。
    -   如果重新部署了边缘实例，那么流数据任务将无法处理设备数据，需要重新分配已发布的流数据任务到边缘实例，并部署边缘实例。

