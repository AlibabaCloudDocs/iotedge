# 示例驱动 {#concept_v14_dyx_ngb .concept}

本章介绍Link IoT Edge提供的Light和LightSensor两个示例驱动，通过这两个示例驱动帮助您快速熟悉驱动的使用流程。

Light驱动是Link IoT Edge提供的一款智能灯的模拟驱动。Light驱动支持智能灯的开关操作，可以用于模拟灯设备。

LightSensor驱动是Link IoT Edge提供的一款光照度传感器的模拟驱动，光照强度数据按照一定周期重复，可以用于模拟光照度传感器设备。

## 前提条件 {#section_wdq_bqz_5fb .section}

在开始操作本章内容前，请您确保已根据[环境搭建](cn.zh-CN/用户指南/环境搭建/专业版环境搭建/基于Ubuntu 16.04搭建环境.md#)内容完成了边缘实例的创建。

## 示例驱动使用方法 {#section_jy2_jyx_ngb .section}

1.  分配驱动和子设备到边缘实例。
    1.  在**实例详情**页面，选择设备驱动配置，单击**全部驱动**右侧的“`+`”图标，分配Light驱动到边缘实例。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222313937907_zh-CN.png)

    2.  （可选）选择Light驱动单击设备列表右侧的**驱动配置**，可对当前驱动进行配置。配置完成后单击**确定**。

        本示例可以不进行驱动配置。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222313948030_zh-CN.png)

        |参数|描述|
        |--|--|
        |配置格式|配置格式有如下三种：         -   键值对配置
        -   JSON格式
        -   配置文件
 |
        |配置格式为键值对配置时|单击**新增配置**，通过设置配置名称、值、注释来配置驱动。 最多添加100个键值对。

 |
        |配置格式为JSON格式时|编写JSON格式配置内容，内容不超过1 KB。编写内容完成后需要单击**校验格式**，通过校验。|
        |配置格式为配置文件时|需要在本地编写配置文件，并上传。|

    3.  （可选）在设备列表右侧，单击**容器配置**，可参考[容器配置](https://help.aliyun.com/document_detail/85162.html#title-9kr-v8d-aj1)中的参数说明，对当前驱动进行容器配置。配置完成后单击**确定**。

        **说明：** 仅在产品规格为专业版的边缘实例中，允许设置**容器配置**。

    4.  单击**分配子设备**，在Light驱动下，为边缘实例分配子设备。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222313948037_zh-CN.png)

    5.  在右侧弹出的分配子设备页面中，单击**添加子设备**。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222313937903_zh-CN.png)

    6.  在添加设备页面，单击**新建产品**，创建客厅灯产品。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222313937904_zh-CN.png)

    7.  在创建产品页面设置参数后，单击**确认**。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222314037905_zh-CN.png)

        |参数|描述|
        |--|--|
        |产品名称|此处设置为客厅灯。|
        |所属分类|选择品类，为该产品定义[物模型](cn.zh-CN/用户指南/产品与设备/物模型/概述.md#)。此处选择**智能生活** \> **电工照明** \> **灯**。|
        |接入网关协议|此处选择自定义。|

    8.  在添加设备页面，产品自动分配已创建的客厅灯产品，设备名称输入Light后单击**确认**，添加一个客厅灯设备。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222314038329_zh-CN.png)

    9.  在分配子设备页面，分配客厅灯产品下的Light设备到边缘实例中。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222314037906_zh-CN.png)

    10. 参考分配Light驱动和客厅灯产品及其设备的步骤，分配LightSensor官方示例驱动到边缘实例，并在该驱动下创建光照度传感器产品和名称为LightSensor的设备。

        其中，创建光照度传感器产品的参数设置如下：

        |参数|描述|
        |--|--|
        |产品名称|设置为光照度传感器。|
        |所属分类|此处选择**智能生活** \> **家居安防** \> **光照度传感器**。|

        至此您已成功分配LightSensor设备和Light设备到边缘实例。

    11. （可选）分配设备到边缘实例后，单击设备名称对应操作栏中的**设备配置**，可对当前设备进行配置，例如配置设备序列号，方便驱动处理指定序列号设备的相关信息。

        本示例可以不进行设备配置。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222314048268_zh-CN.png)

        编写JSON格式配置内容（内容不可超过1 KB），并**校验格式**通过后，单击**确定**，完成配置。

2.  配置消息路由。

    为边缘实例分配消息路由，用于将子设备的数据上传到云端（IoT）。

    1.  在实例详情页面，选择消息路由，单击**分配路由**。
    2.  在分配消息路由页面中，配置参数，此处配置的参数是将子设备数据发送至云端。

        按照界面提示，设置如下参数。

        |参数|描述|
        |--|--|
        |消息来源|此处选择**设备**，选择**全部产品**。|
        |消息主题过滤|此处选择**全部**。|
        |消息目标|此处选择**IoT Hub**。|
        |服务级别|此处选择**1**。|

    3.  单击**确定**，至此您已为边缘实例添加了消息路由。
3.  部署边缘实例。

    在实例详情页面，单击右上角**部署**后在弹出框中单击**确认**，部署边缘实例。

    您可以通过**部署进程**来查看部署进度及结果。

4.  查看设备上线状态。

    部署实例后，您可以在实例的**设备驱动配置** \> **全部驱动**的设备列表中看到Light设备和LightSensor设备状态已显示在线。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222314137935_zh-CN.png)

5.  查看设备运行状态。

    单击LightSensor和Light设备右侧操作栏中的**查看**，体统跳转到**设备管理** \> **设备**中的设备详情页面。您可以查看具体的设备详情，选择运行状态，看到设备数据已经发送至云端。

    LightSensor运行状态

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222314137937_zh-CN.png)

    Light设备状态

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/117119/156222314137938_zh-CN.png)


至此，您已经完成示例驱动设备接入操作流程。如果您想进一步熟悉官方驱动和驱动开发，请参考[Modbus驱动](cn.zh-CN/用户指南/设备接入/官方驱动/Modbus驱动.md#)和[驱动开发](cn.zh-CN/用户指南/设备接入/驱动开发/概览.md#)章节。如果您想了解更多业务逻辑的开发和运行框架，可参考[函数计算](cn.zh-CN/用户指南/函数计算/什么是边缘函数计算.md#)、[场景联动](cn.zh-CN/用户指南/场景联动/什么是场景联动.md#)和[流数据分析](cn.zh-CN/用户指南/流数据分析/什么是边缘流数据分析.md#)章节内容学习。

