添加自定义协议设备 
==============================

物联网边缘计算支持通过关联驱动，关联自定义协议的终端设备到边缘一体机。

前提条件 
-------------------------

已完成操作：[分配驱动到主机](/cn.zh-CN/设备接入/设备管理/添加驱动关联设备/分配驱动到主机.md)。

操作步骤 
-------------------------

1. 登录[边缘计算控制台](https://iotedge.console.aliyun.com)。

   

2. 在左侧导航栏选择 **节点管理** \> **终端设备管理** 。

   

3. 在 **终端设备管理** 页面，选择 ***您的目标主机名称*** \> **通用设备** \> ***您的目标驱动名称*** 。

   

4. 在 **设备列表** 区域下，单击 **添加设备** 。

   

5. 在弹出的 **添加设备** 对话框中，单击 **所属产品** 下的 **打开产品管理页** 。

   ![打开产品管理页 ](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9530385261/p172714.png)
   

6. 系统跳转到[物联网平台控制台](http://iot.console.aliyun.com/)，创建 **节点类型** 为 **网关子设备** 、 **接入网关协议** 为 **自定义** 的产品，其余参数可自定义设置或保持默认值。详细操作，请参见[创建产品](/cn.zh-CN/设备接入/创建产品.md)。

   ![新版-添加自定义协议设备](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7013713061/p172865.png)
   

7. （可选）创建产品完成后，您可以为产品添加物模型。详情操作，请参见[物模型](/cn.zh-CN/设备管理/物模型/物模型概述/什么是物模型.md)。

   

8. 返回[边缘计算控制台](https://iotedge.console.aliyun.com)的 **节点管理** \> **终端设备管理** 页面。在 **添加设备** 对话框中，为刚刚创建的产品添加设备。

   设置 **设备名称** 和 **备注名称** ，然后单击 **确定** 。
   

9. （可选）分配设备到边缘一体机后，单击设备名称对应 **操作** 列中的 **设备配置** ，可对当前设备进行配置，例如配置设备序列号，方便驱动处理指定序列号设备的相关信息。

   编写JSON格式配置内容，内容不可超过1 KB，单击 **校验格式** ，通过校验后单击 **确定** ，完成配置。
   

10. 在左侧导航栏选择 **节点管理** \> **主机管理** ，找到刚刚分配了设备的主机名称，单击对应 **操作** 列中的 **主机部署** ，部署终端设备到边缘一体机。更多部署相关信息，请参见[主机部署和管理](/cn.zh-CN/主机管理/云端管理/主机部署和管理.md)。

    




